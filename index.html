<!--1-20-2026-->
<!--2:57 pm -->


<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Exam‑Safe Python IDE</title>

<style>
  :root {
    --bg:#1e1e1e;
    --panel:#2d2d2d;
    --accent:#007acc;
    --txt:#eaeaea;
    --out:#00ff99;
  }

  html, body {
    height:100%;
    margin:0;
    background UI,Roboto,Arial,sans-serif;
    overflow:hidden;
  }

  #topbar {
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    background:var(--panel);
       padding:8px 14px;
    border-radius:4px;
    font-size:15px;
    cursor:pointer;
  }

  #container {
    display:grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: 1fr 1fr;
    height: calc(100vh - 56px);
  }

  #editor {
    grid-column:1 / 2;
    grid-row:1 / 3;
    width:100%;
    height:100%;
  }

  #output {
    grid-column:2 / 3;
    grid-row:1 / 2;
    background:#0c0c0c;
    color:var(--out);
    padding:12px;
    white-space:pre-wrap;
    overflow:auto;
    font-family:monospace;
  }

  #questionPane {
    grid-column:2 / 3;
    grid-row:2 / 3;
    background:#0d0d0d;
    border-top:1px solid #333;
    overflow:hidden;
  }

  #questionPane iframe {
    width:100%;
    height: calc(100% - 30px);
    border:none;
  }
</style>
</head>

<body oncontextmenu="return false">

<div id="topbar">
  <div class="left">
    <strong>Exam IDE</strong>
    <label>First: <input id="firstName"></label>
    <label>Last: <input id="lastName"></label>
  </div>

  <div class="right">
    <span>Offline-ready: <span id="offlineFlag">warming…</span></span>
    <button id="runBtn">Run ▶</button>
    <button id="submitBtn">Submit</button>
  </div>
</div>

<div id="container">
  <div id="editor"># Python example
print("Hello world!")</div>

  <pre id="output"></pre>

  <section id="questionPane">
    <header style="padding:6px 10px; background:#111; color:white;">
      <strong>Question:</strong>
      <span id="qStatus" style="opacity:.7; font-size:12px;"></span>
    </header>
    <iframe id="questionFrame" referrerpolicy="no-referrer"></iframe>
  </section>
</div>

<!-- ⭐ LOCAL ACE EDITOR FILES (REQUIRED) -->
<script src="./ace/ace.js"></script>
<script src="./ace/mode-python.js"></script>
<script src="./ace/theme-textmate.js"></script>

<!-- ⭐ PYODIDE LOADER (REQUIRED AND VALID) -->
<script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>

<script>
// ---------------------------
// ACE EDITOR SETUP
// ---------------------------
const editor = ace.edit("editor");
editor.setTheme("ace/theme/textmate");
editor.session.setMode("ace/mode/python");
editor.setOptions({
  fontSize: "16px",
  showPrintMargin: false,
  useSoftTabs: true,
  tabSize: 4,
});

// ---------------------------
// PYODIDE SETUP
// ---------------------------
let pyReady = loadPyodide({
  stdout: msg => document.getElementById("output").textContent += msg + "\n",
  stderr: msg => document.getElementById("output").textContent += "[error] " + msg + "\n"
}).then(py => {
  document.getElementById("offlineFlag").textContent = "ready";
  return py;
});

// ---------------------------
// RUN CODE
// ---------------------------
async function runCode() {
  const out = document.getElementById("output");
  out.textContent = "Running...\n\n";

  const code = editor.getValue();
  const py = await pyReady;

  try {
    const result = await py.runPythonAsync(code);
    if (result !== undefined)
      out.textContent += result + "\n";
  } catch (err) {
    out.textContent += "[error] " + err + "\n";
  }
}

document.getElementById("runBtn").addEventListener("click", runCode);

// Placeholder submit handler
document.getElementById("submitBtn").addEventListener("click", () =>
  alert("Submit not configured yet.")
);
</script>

</body>
</html>
